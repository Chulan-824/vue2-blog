{"remainingRequest":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\src\\components\\Login.vue","mtime":1586264767876},{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610873814290},{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1610873813032},{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1610873812815},{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610873814290},{"path":"F:\\前端\\前端框架班教室\\vue\\vue教室课堂代码\\blog\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1610873867195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi9hcGkiOw0KDQpjb25zdCBwb3N0TG9naW4gPSByZXF1ZXN0LnBvc3RMb2dpbjsNCiAgZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJSZWdpc3RlciIsDQogICAgZGF0YSgpew0KICAgICAgcmV0dXJuIHsNCg0KICAgICAgICAvL+ihqOWNleaVsOaNrg0KICAgICAgICBmb3JtIDp7DQogICAgICAgICAgdXNlciA6ICIiLA0KICAgICAgICAgIHB3ZCA6ICIiDQogICAgICAgIH0sDQogICAgICAgIC8v6KGo5Y2V6aqM6K+BDQogICAgICAgIHJ1bGVzOnsNCiAgICAgICAgICAvL+eUqOaIt+WQjemqjOivgQ0KICAgICAgICAgIHVzZXIgOiBbDQogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIC8v5pWw5o2u57G75Z6LDQogICAgICAgICAgICAgIHR5cGU6InN0cmluZyIsDQogICAgICAgICAgICAgIC8v5q2j5YiZ6KeE5YiZDQogICAgICAgICAgICAgIHBhdHRlcm46IC9eW1x3XHU0ZTAwLVx1OWZhNVx1YWMwMC1cdWQ3ZmZcdTA4MDAtXHU0ZTAwXC1dezIsN30kLywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeato+ehruagvOW8j+eUqOaIt+WQjScsDQogICAgICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsJ2NoYW5nZSddDQogICAgICAgICAgICB9DQogICAgICAgICAgXSwNCg0KICAgICAgICAgIC8v5a+G56CB6aqM6K+BDQogICAgICAgICAgcHdkIDogew0KICAgICAgICAgICAgdHlwZToic3RyaW5nIiwNCiAgICAgICAgICAgIHZhbGlkYXRvciA6IChydWxlLHZhbHVlLGNiKT0+ew0KICAgICAgICAgICAgICBpZiAodmFsdWUpew0KICAgICAgICAgICAgICAgIC8v6aqM6K+B5a+G56CB5piv5ZCm56ym5ZCI6KeE5YiZDQogICAgICAgICAgICAgICAgaWYgKC9eW1x3PD4sLj98Oyc6Int9IUAjJCVeJiooKVwvXC1cW1xdXFxdezYsMTh9JC8udGVzdCh2YWx1ZSkpew0KICAgICAgICAgICAgICAgICAgY2IoKTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgIGNiKG5ldyBFcnJvcigi6K+36L6T5YWl5q2j56Gu5qC85byP5a+G56CBIikpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgY2IobmV3IEVycm9yKCLor7fovpPlhaXlr4bnoIEiKSk7DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAvL+WcqOi/memHjOi/mOmcgOimgeinpuWPkeehruiupOWvhueggeeahOmqjOivgQ0KICAgICAgICAgICAgICB0aGlzLmZvcm0uY2hlY2tQd2QgJiYgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrUHdkIik7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCdjaGFuZ2UnXQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvL+eZu+W9lei/h+eoi+emgeeUqA0KICAgICAgICBzdWJtaXREaXNhYmxlZCA6IGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBwcm9wcyA6IFsiZGlhbG9nVmlzaWJsZSJdLA0KICAgIG1ldGhvZHMgOiB7DQogICAgICBoYW5kbGVDbGljaygpew0KICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgLy/pqozor4Hpg73pgJrov4cNCiAgICAgICAgICAgIHBvc3RMb2dpbih0aGlzLmZvcm0pLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlKXsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgLy/nmbvlvZXlpLHotKUNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICBkdXJhdGlvbiA6IDIwMDANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgIC8v55m75b2V5oiQ5YqfDQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICBkdXJhdGlvbiA6IDIwMDANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57DQogICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoImhhbmRsZUNsb3NlIik7DQogICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICAgICAgfSwxODAwKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZT0+ew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m75b2V5aSx6LSl6K+356iN5ZCO5YaN6K+VfiIsDQogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICBkdXJhdGlvbiA6IDIwMDANCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIHRoaXMuc3VibWl0RGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnN1Ym1pdERpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICAvL+mqjOivgeayoemAmui/hw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9LA0KICAgICAgYmVmb3JlQ2xvc2UoZG9uZSl7DQogICAgICAgIHRoaXMuJGVtaXQoImhhbmRsZUNsb3NlIik7DQogICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgIH0sDQogICAgZGVzdHJveWVkKCkgew0KICAgIH0NCiAgfQ0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-dialog\r\n      title=\"登录\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"30%\"\r\n      :before-close=\"beforeClose\"\r\n      :close-on-click-modal=\"false\"\r\n  >\r\n    <el-form\r\n        ref=\"form\"\r\n        :model=\"form\"\r\n        label-width=\"80px\"\r\n        :rules=\"rules\"\r\n    >\r\n      <el-form-item label=\"用户名\" prop=\"user\">\r\n        <el-input v-model=\"form.user\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"pwd\">\r\n        <el-input v-model=\"form.pwd\" show-password></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"handleClick\" :disabled=\"submitDisabled\">登录</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../api\";\r\n\r\nconst postLogin = request.postLogin;\r\n  export default {\r\n    name: \"Register\",\r\n    data(){\r\n      return {\r\n\r\n        //表单数据\r\n        form :{\r\n          user : \"\",\r\n          pwd : \"\"\r\n        },\r\n        //表单验证\r\n        rules:{\r\n          //用户名验证\r\n          user : [\r\n            { required: true, message: '请输入用户名', trigger: 'blur' },\r\n            {\r\n              //数据类型\r\n              type:\"string\",\r\n              //正则规则\r\n              pattern: /^[\\w\\u4e00-\\u9fa5\\uac00-\\ud7ff\\u0800-\\u4e00\\-]{2,7}$/,\r\n              message: '请输入正确格式用户名',\r\n              trigger: ['blur','change']\r\n            }\r\n          ],\r\n\r\n          //密码验证\r\n          pwd : {\r\n            type:\"string\",\r\n            validator : (rule,value,cb)=>{\r\n              if (value){\r\n                //验证密码是否符合规则\r\n                if (/^[\\w<>,.?|;':\"{}!@#$%^&*()\\/\\-\\[\\]\\\\]{6,18}$/.test(value)){\r\n                  cb();\r\n                }else{\r\n                  cb(new Error(\"请输入正确格式密码\"));\r\n                }\r\n              }else{\r\n                cb(new Error(\"请输入密码\"));\r\n              }\r\n\r\n              //在这里还需要触发确认密码的验证\r\n              this.form.checkPwd && this.$refs.form.validateField(\"checkPwd\");\r\n            },\r\n            required: true,\r\n            trigger: ['blur','change']\r\n          }\r\n        },\r\n\r\n        //登录过程禁用\r\n        submitDisabled : false\r\n      }\r\n    },\r\n    props : [\"dialogVisible\"],\r\n    methods : {\r\n      handleClick(){\r\n        this.submitDisabled = true;\r\n        this.$refs[\"form\"].validate((valid) => {\r\n          if (valid) {\r\n            //验证都通过\r\n            postLogin(this.form).then(res=>{\r\n              if (res.data.code){\r\n                this.submitDisabled = false;\r\n                //登录失败\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: 'error',\r\n                  duration : 2000\r\n                });\r\n              }\r\n              else{\r\n                //登录成功\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: 'success',\r\n                  duration : 2000\r\n                });\r\n                setTimeout(()=>{\r\n                  this.submitDisabled = false;\r\n\r\n                  this.$emit(\"handleClose\");\r\n                  window.location.reload();\r\n                },1800);\r\n              }\r\n            }).catch(e=>{\r\n              this.$message({\r\n                message: \"登录失败请稍后再试~\",\r\n                type: 'error',\r\n                duration : 2000\r\n              });\r\n              this.submitDisabled = false;\r\n            });\r\n          } else {\r\n            this.submitDisabled = false;\r\n            //验证没通过\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      beforeClose(done){\r\n        this.$emit(\"handleClose\");\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    destroyed() {\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .el-form{\r\n    user-select: none;\r\n    padding-right: 30px;\r\n\r\n    .vcode{\r\n      .el-input{\r\n        float: left;\r\n        width: 35%;\r\n      }\r\n      div.svg{\r\n        float: left;\r\n        width: 35%;\r\n        height: 40px;\r\n        /deep/ svg{\r\n          width: 100% !important;\r\n          height: 100% !important;\r\n        }\r\n      }\r\n      .el-link{\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}