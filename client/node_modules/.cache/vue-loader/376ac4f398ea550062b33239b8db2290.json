{"remainingRequest":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\src\\components\\Nav.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\src\\components\\Nav.vue","mtime":1586267318324},{"path":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610873814290},{"path":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1610873812815},{"path":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610873814290},{"path":"F:\\前端\\前端框架班教室\\vue\\vue代码\\blog\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1610873867195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUmVnaXN0ZXIgZnJvbSAiLi9SZWdpc3RlciI7CmltcG9ydCBMb2dpbiBmcm9tICIuL0xvZ2luIjsKaW1wb3J0IEF2YXRhciBmcm9tICIuL0F2YXRhciI7CmltcG9ydCByZXF1ZXN0IGZyb20gIi4uL2FwaSI7CgoKY29uc3QgcG9zdElmTG9naW4gPSByZXF1ZXN0LnBvc3RJZkxvZ2luOwpjb25zdCBwb3N0TG9nb3V0ID0gcmVxdWVzdC5wb3N0TG9nb3V0OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOYXYiLAogIGNvbXBvbmVudHM6ewogICAgUmVnaXN0ZXIsTG9naW4sQXZhdGFyCiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIC8q6Lev55Sx5YiX6KGoKi8KICAgICAgcm91dGVyTGlzdCA6IFsiSG9tZSIsIkJsb2ciLCJNZXNzYWdlIiwiRGlhcnkiLCJMaW5rcyIsIkFib3V0Il0sCgogICAgICAvKuW8ueeql2tleeWAvCovCiAgICAgIC8vIGFsZXJ0S2V5IDogMCwKCiAgICAgIC8q5piv5ZCm55m75b2VKi8KICAgICAgaWZMb2dpbiA6IGZhbHNlLAogICAgICAvKueUqOaIt+S/oeaBryovCiAgICAgIGxvZ2luIDogewogICAgICAgIHVzZXIgOiAiIiwKICAgICAgICBwaG90byA6ICIiCiAgICAgIH0KCiAgICAgIC8q55m75b2V5by556qX5ZKM5rOo5YaM5by556qXKi8KICAgICAgLGlmU2hvd0xvZ2luIDogZmFsc2UKICAgICAgLGlmU2hvd1JlZ2lzdGVyIDogZmFsc2UKICAgICAgLGlmU2hvd0F2YXRhciA6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICB3aGljaEFjdGl2ZSgpewogICAgICBsZXQgaW5kZXggPSB0aGlzLnJvdXRlckxpc3QuaW5kZXhPZih0aGlzLiRyb3V0ZS5uYW1lKTsKICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICJBcnRpY2xlIilpbmRleCA9IDE7CgogICAgICByZXR1cm4gaW5kZXggKyAxOwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBjbG9zZVJlZ2lzdGVyKGJvb2wpewogICAgICB0aGlzLmlmU2hvd1JlZ2lzdGVyID0gZmFsc2U7CiAgICAgIHRoaXMuaWZTaG93TG9naW4gPSBib29sOwogICAgfSwKICAgIGNsb3NlTG9naW4oKXsKICAgICAgdGhpcy5pZlNob3dMb2dpbiA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlQXZhdGFyKCl7CiAgICAgIHRoaXMuaWZTaG93QXZhdGFyID0gZmFsc2U7CiAgICB9LAoKICAgIGhhbmRsZUxvZ291dCgpewogICAgICBwb3N0TG9nb3V0KCkKICAgICAgICAudGhlbigoKT0+ewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLpgIDlh7rnmbvlvZXmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uIDogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0sMTcwMCkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKT0+ewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLpgIDlh7rlpLHotKXigKYiLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbiA6IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUF2YXRhcigpewoKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgcG9zdElmTG9naW4oKS50aGVuKHJlcz0+ewogICAgICBpZiAocmVzLmRhdGEudXNlckluZm8pIHsKICAgICAgICB0aGlzLmlmTG9naW4gPSB0cnVlOwogICAgICAgIHRoaXMubG9naW4udXNlciA9IHJlcy5kYXRhLnVzZXJJbmZvLnVzZXI7CiAgICAgICAgdGhpcy5sb2dpbi5waG90byA9IHJlcy5kYXRhLnVzZXJJbmZvLnBob3RvOwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmlmTG9naW4gPSBmYWxzZTsKICAgICAgfQogICAgfSk7CiAgfQp9Cg=="},{"version":3,"sources":["Nav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Nav.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"nav\">\r\n      <div class=\"nav-main\">\r\n        <div class=\"n-m-logo\">Jack</div>\r\n        <div class=\"n-m-login\">\r\n          <el-popover\r\n              v-if=\"ifLogin\"\r\n              placement=\"top-start\"\r\n              width=\"100\"\r\n              trigger=\"hover\">\r\n            <p>欢迎登陆：{{login.user}}</p>\r\n            <el-button type=\"danger\" @click=\"handleLogout\" plain size=\"mini\">退出登录</el-button>\r\n            <br>\r\n            <el-button\r\n                type=\"primary\"\r\n                @click=\"ifShowAvatar = true\"\r\n                plain\r\n                size=\"mini\"\r\n            >\r\n              修改头像\r\n            </el-button>\r\n            <a href=\"\" slot=\"reference\" class=\"img\"\r\n                  :style=\"{\r\n                    backgroundImage : 'url('+login.photo+')',\r\n                    position: 'absolute',\r\n                    top: '10px',\r\n                    left: '41px',\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    backgroundPosition: 'center center',\r\n                    backgroundSize: 'cover',\r\n                    borderRadius: '50%',\r\n                    cursor:'pointer'\r\n                  }\"\r\n            ></a>\r\n          </el-popover>\r\n          <div class=\"login\" v-else>\r\n            <el-button @click=\"ifShowLogin = true\" type=\"primary\">登录</el-button>\r\n            <el-button @click=\"ifShowRegister = true\" type=\"success\">注册</el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"n-m-nav\">\r\n          <ul :class=\"'list'+whichActive\">\r\n            <li><router-link to=\"/\">首页</router-link></li>\r\n            <li><router-link to=\"/blog/0\">博客</router-link></li>\r\n            <li><router-link to=\"/message\">留言</router-link></li>\r\n            <li><router-link to=\"/diary\">日记</router-link></li>\r\n            <li><router-link to=\"/links\">友链</router-link></li>\r\n            <li><router-link to=\"/about\">关于</router-link></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Login :dialogVisible=\"ifShowLogin\" @handleClose=\"closeLogin\"></Login>\r\n    <Register :dialogVisible=\"ifShowRegister\" @handleClose=\"closeRegister\"></Register>\r\n    <Avatar :dialogVisible=\"ifShowAvatar\" @handleClose=\"closeAvatar\"></Avatar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import Register from \"./Register\";\r\n  import Login from \"./Login\";\r\n  import Avatar from \"./Avatar\";\r\n  import request from \"../api\";\r\n\r\n\r\n  const postIfLogin = request.postIfLogin;\r\n  const postLogout = request.postLogout;\r\n\r\n  export default {\r\n    name: \"Nav\",\r\n    components:{\r\n      Register,Login,Avatar\r\n    },\r\n    data(){\r\n      return{\r\n        /*路由列表*/\r\n        routerList : [\"Home\",\"Blog\",\"Message\",\"Diary\",\"Links\",\"About\"],\r\n\r\n        /*弹窗key值*/\r\n        // alertKey : 0,\r\n\r\n        /*是否登录*/\r\n        ifLogin : false,\r\n        /*用户信息*/\r\n        login : {\r\n          user : \"\",\r\n          photo : \"\"\r\n        }\r\n\r\n        /*登录弹窗和注册弹窗*/\r\n        ,ifShowLogin : false\r\n        ,ifShowRegister : false\r\n        ,ifShowAvatar : false\r\n      }\r\n    },\r\n    computed:{\r\n      whichActive(){\r\n        let index = this.routerList.indexOf(this.$route.name);\r\n        if (this.$route.name === \"Article\")index = 1;\r\n\r\n        return index + 1;\r\n      }\r\n    },\r\n    methods:{\r\n      closeRegister(bool){\r\n        this.ifShowRegister = false;\r\n        this.ifShowLogin = bool;\r\n      },\r\n      closeLogin(){\r\n        this.ifShowLogin = false;\r\n      },\r\n      closeAvatar(){\r\n        this.ifShowAvatar = false;\r\n      },\r\n\r\n      handleLogout(){\r\n        postLogout()\r\n          .then(()=>{\r\n            this.$message({\r\n              message: \"退出登录成功\",\r\n              type: 'success',\r\n              duration : 2000\r\n            });\r\n            setTimeout(()=>{\r\n              window.location.reload();\r\n            },1700)\r\n          })\r\n          .catch(()=>{\r\n            this.$message({\r\n              message: \"退出失败…\",\r\n              type: 'error',\r\n              duration : 2000\r\n            });\r\n          });\r\n      },\r\n      handleAvatar(){\r\n\r\n      }\r\n    },\r\n\r\n    created() {\r\n      postIfLogin().then(res=>{\r\n        if (res.data.userInfo) {\r\n          this.ifLogin = true;\r\n          this.login.user = res.data.userInfo.user;\r\n          this.login.photo = res.data.userInfo.photo;\r\n        }else{\r\n          this.ifLogin = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  #nav{\r\n    overflow: hidden;\r\n    position: fixed;\r\n    z-index: 999;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 60px;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #e8e9e7;\r\n    >.nav-main{\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      max-width: 1360px;\r\n      height: 60px;\r\n      margin: 0 auto;\r\n      padding: 0 50px;\r\n      /*background-color: pink;*/\r\n      .n-m-logo{\r\n        float: left;\r\n        width: 100px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        text-align: left;\r\n        color: #777;\r\n        font-size: 40px;\r\n        font-family: BarbaraHand;\r\n      }\r\n      .n-m-login{\r\n        position: relative;\r\n        float: right;\r\n        width: 122px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        .el-button{\r\n          padding: 9px 13px;\r\n        }\r\n        >div.userInfo{\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n      .n-m-nav{\r\n        float: right;\r\n        width: 576px;\r\n        height: 60px;\r\n        margin-right: 8%;\r\n        ul{\r\n          display: flex;\r\n          width: 100%;\r\n          height: 100%;\r\n          li{\r\n            flex: 1;\r\n            a{\r\n              position: relative;\r\n              display: block;\r\n              width: 100%;\r\n              height: 100%;\r\n              text-align: center;\r\n              line-height: 60px;\r\n              color: #212220;\r\n              font-weight: 400;\r\n              font-size: 15px;\r\n              transition: color .5s;\r\n              &::after{\r\n                position: absolute;\r\n                bottom: 0;\r\n                left: 0;\r\n                right: 0;\r\n                margin: 0 auto;\r\n                content: \"\";\r\n                width: 0;\r\n                height: 2px;\r\n                background-color: #6bc30d;\r\n                transition: width .5s;\r\n              }\r\n              &:hover{\r\n                color: #6bc30d;\r\n                &::after{\r\n                  width: 100%;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          &.list1 li:nth-child(1),\r\n          &.list2 li:nth-child(2),\r\n          &.list3 li:nth-child(3),\r\n          &.list4 li:nth-child(4),\r\n          &.list5 li:nth-child(5),\r\n          &.list6 li:nth-child(6){\r\n            a{\r\n              color: #6bc30d;\r\n              &::after{\r\n                width: 100%;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}